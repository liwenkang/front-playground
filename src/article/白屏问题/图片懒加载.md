const viewHeight = window.innerHeight || document.documentElement.clientHeight
const top = img.getBoundingClientRect().top;

1. 图片距离顶部的长度(top) < 可视区域的高度(viewHeight) 则加载图片(把 src 赋值进去)

2. 直接利用 IntersectionObserver

```
const imgs = document.querySelectorAll("img[data-src]");
const config = {
    rootMargin: "0px",
    threshold: 0,
};
let observer = new IntersectionObserver((entries, self) => {
    entries.forEach((entry) => {
    // 如果在可视范围内
    if (entry.isIntersecting) {
        let img = entry.target;
        let src = img.getAttribute("data-src");
        if (src) {
        img.src = src;
        img.removeAttribute("data-src");
        }
        // 解除观察
        self.unobserve(entry.target);
    }
    });
}, config);

imgs.forEach((image) => {
    observer.observe(image);
});
```

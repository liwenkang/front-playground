1. parse html: 相关引擎分别解析文档/样式表/脚本,生成 DOM 和 CSSOM,最终合成 render 树
2. layout(重排 reflow) 浏览器根据 render 树,以递归的形式计算出每个节点的位置和大小
3. print(重绘 repaint) 浏览器将 render 树中的节点转换成在屏幕上实际绘制像素的指令,这个过程发生在多个图层之上
4. composite 浏览器将所有图层按照一定的顺序合并成一个图层,并绘制到屏幕上
5. 当 DOM 或 CSSOM 被修改的时候,会重复发生以上步骤
6. 重排必定导致重绘,重排代价很大
7. 导致重排的操作:
   (1)布局结构/内容变化的时候,比如 height,float,position
   (2)获取布局信息的时候,获取 offsetTop,getComputedStyle
8. 导致重绘的操作: 外观有变化的时候,比如 color, opacity
9. 如何避免重绘和重排
   (1)对 DOM 进行批量写入和读取（通过虚拟 DOM 或者 DocumentFragment 实现）,尽量使用 className 一次修改。
   (2)避免对样式频繁操作，了解常用样式属性触发 Layout / Paint / Composite 的机制，合理使用样式。
   (3)合理利用特殊样式属性（如 transform: translateZ(0) 或者 will-change），将渲染层提升为合成层，开启 GPU 加速，提高页面性能。
   (4)使用变量对布局信息（如 clientTop）进行缓存，避免因频繁读取布局信息而触发重排和重绘。
